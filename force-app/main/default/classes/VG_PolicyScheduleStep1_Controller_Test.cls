@IsTest(SeeAllData=False)
public class VG_PolicyScheduleStep1_Controller_Test {
    public static testmethod void testmethod1(){
        SystemConstants__c cs = new SystemConstants__c();
        cs.Name='Latest Policy Name';
        cs.DocumentId__c = 'Reset';
        Insert cs;
        Policy_Record_Type__c prt = new Policy_Record_Type__c ();
        prt.Name='Edison Motor';
        prt.Code__c = 'EM';
        Insert prt;
        Policy_LOB__c lob = new Policy_LOB__c();
        lob.Name='Motor';
        lob.Code__c = 'MTR';
        Insert lob;
        Account acc=VG_TU.createAccount('Customer');
        Policy__c pol=VG_TU.createPolicy('Edison Motor',acc.id);
        Policy_Schedule__c ps=new Policy_Schedule__c(Name='Test/PS/0');
        ps.Policy__c=pol.id;
        List<Policy_Schedule__c> psList=new List<Policy_Schedule__c>();
        psList.add(ps);
        Insert psList; 
        List<VG_Policy_Schedule_Asset__c> psaList=new List<VG_Policy_Schedule_Asset__c>();
        VG_Policy_Schedule_Asset__c psa=new VG_Policy_Schedule_Asset__c();
        psa.name='Test/PS/0';
        psa.VG_Policy_Schedule__c=ps.id;
        psa.VG_Rate_Per_Vehicle__c=20;
        psa.VG_Number_of_Vehicles__c=10;
        psa.VG_Coverage__c='M3 - Fully Comprehensive';
        psa.VG_Vehicle_Type__c='Plant';
        psaList.add(psa);
        VG_Policy_Schedule_Asset__c psa1=new VG_Policy_Schedule_Asset__c();
        psa1.name='Test/PS/0';
        psa1.VG_Policy_Schedule__c=ps.id;
        psa1.VG_Rate_Per_Vehicle__c=20;
        psa1.VG_Number_of_Vehicles__c=10;
        psa1.VG_Coverage__c='M3 - Fully Comprehensive';
        psa1.VG_Vehicle_Type__c='Cars';        
        psa1.VG_Technical_UW_Rate_Annual__c=5000;
        psaList.add(psa1);
        Insert psaList;
        PageReference pageRef = Page.VG_EdisonPS_Ins1;
        Test.setCurrentPage(pageRef);
        ApexPages.currentPage().getParameters().put('id', pol.id);
        ApexPages.StandardSetController ssc = new ApexPages.StandardSetController(psList);
        VG_PolicyScheduleStep1_Controller cntr = new VG_PolicyScheduleStep1_Controller(ssc);
        cntr.psaList.add(psa);
        VG_PolicyScheduleStep1_Controller.WrapperAsset wa = new VG_PolicyScheduleStep1_Controller.WrapperAsset();
        wa.psa=psa;        
        wa.Counter='0';
        cntr.waList.add(wa);
        VG_PolicyScheduleStep1_Controller.WrapperAsset wa1 = new VG_PolicyScheduleStep1_Controller.WrapperAsset();
        wa1.psa=psaList[1];
        wa1.Counter='1';
        cntr.waList.add(wa1);
        cntr.Cancel();
        cntr.addAsset();
        cntr.Next();
        
    }
    public static testmethod void testmethod2(){
        SystemConstants__c cs = new SystemConstants__c();
        cs.Name='Latest Policy Name';
        cs.DocumentId__c = 'Reset';
        Insert cs;
        Policy_Record_Type__c prt = new Policy_Record_Type__c ();
        prt.Name='Edison Motor';
        prt.Code__c = 'EM';
        Insert prt;
        Policy_LOB__c lob = new Policy_LOB__c();
        lob.Name='Motor';
        lob.Code__c = 'MTR';
        Insert lob;
        Account acc=VG_TU.createAccount('Customer');
        Policy__c pol=VG_TU.createPolicy('Edison Motor',acc.id);
        Policy_Schedule__c ps=new Policy_Schedule__c(Name='Test/PS/1');
        ps.Policy__c=pol.id;
        ps.VG_MTA_Type__c='Extension';
        List<Policy_Schedule__c> psList=new List<Policy_Schedule__c>();
        psList.add(ps);
        Policy_Schedule__c ps2=new Policy_Schedule__c(Name='Test/PS/1');
        ps2.Policy__c=pol.id;
        ps2.VG_MTA_Type__c='Cancellation';
        psList.add(ps2);
        Policy_Schedule__c ps3=new Policy_Schedule__c(Name='Test/PS/2');
        ps3.Policy__c=pol.id;
        ps3.VG_MTA_Type__c='Revision of Cover';
        psList.add(ps3);
        Policy_Schedule__c ps1=new Policy_Schedule__c(Name='Test/PS/3');
        ps1.Policy__c=pol.id;
        ps1.VG_MTA_Type__c='Declaration';
        psList.add(ps1);
        Insert psList;
        PageReference pageRef = Page.VG_EdisonPS_Ins1;
        Test.setCurrentPage(pageRef);
        ApexPages.currentPage().getParameters().put('id', pol.id);
        ApexPages.currentPage().getParameters().put('MTAType', ps.VG_MTA_Type__c);
        ApexPages.currentPage().getParameters().put('OriginalId', ps.id);
        ApexPages.StandardSetController ssc = new ApexPages.StandardSetController(psList);
        VG_PolicyScheduleStep1_Controller cntr = new VG_PolicyScheduleStep1_Controller(ssc);
        cntr.Cancel();
        cntr.Next();
    }
    public static testmethod void testmethod3(){
        SystemConstants__c cs = new SystemConstants__c();
        cs.Name='Latest Policy Name';
        cs.DocumentId__c = 'Reset';
        Insert cs;
        Policy_Record_Type__c prt = new Policy_Record_Type__c ();
        prt.Name='Edison Motor';
        prt.Code__c = 'EM';
        Insert prt;
        Policy_LOB__c lob = new Policy_LOB__c();
        lob.Name='Motor';
        lob.Code__c = 'MTR';
        Insert lob;
        Account acc=VG_TU.createAccount('Customer');
        Policy__c pol=VG_TU.createPolicy('Edison Motor',acc.id);
        Policy_Schedule__c ps=new Policy_Schedule__c(Name='Test/PS/5');
        ps.Policy__c=pol.id;
        ps.VG_MTA_Type__c='Extension';
        List<Policy_Schedule__c> psList=new List<Policy_Schedule__c>();
        psList.add(ps);
        Policy_Schedule__c ps2=new Policy_Schedule__c(Name='Test/PS/6');
        ps2.Policy__c=pol.id;
        ps2.VG_MTA_Type__c='Cancellation';
        psList.add(ps2);
        Policy_Schedule__c ps3=new Policy_Schedule__c(Name='Test/PS/7');
        ps3.Policy__c=pol.id;
        ps3.VG_MTA_Type__c='Revision of Cover';
        psList.add(ps3);
        Policy_Schedule__c ps1=new Policy_Schedule__c(Name='Test/PS/8');
        ps1.Policy__c=pol.id;
        ps1.VG_MTA_Type__c='Declaration';
        psList.add(ps1);
        Insert psList;
        PageReference pageRef = Page.VG_EdisonPS_Ins1;
        Test.setCurrentPage(pageRef);
        ApexPages.currentPage().getParameters().put('id', pol.id);
        ApexPages.currentPage().getParameters().put('MTAType', ps1.VG_MTA_Type__c);
        ApexPages.currentPage().getParameters().put('OriginalId', ps.id);
        ApexPages.StandardSetController ssc = new ApexPages.StandardSetController(psList);
        VG_PolicyScheduleStep1_Controller cntr = new VG_PolicyScheduleStep1_Controller(ssc);
        cntr.Cancel();
        cntr.Next();
    }
    public static testmethod void testmethod4(){
        SystemConstants__c cs = new SystemConstants__c();
        cs.Name='Latest Policy Name';
        cs.DocumentId__c = 'Reset';
        Insert cs;
        Policy_Record_Type__c prt = new Policy_Record_Type__c ();
        prt.Name='Edison Motor';
        prt.Code__c = 'EM';
        Insert prt;
        Policy_LOB__c lob = new Policy_LOB__c();
        lob.Name='Motor';
        lob.Code__c = 'MTR';
        Insert lob;
        Account acc=VG_TU.createAccount('Customer');
        Policy__c pol=VG_TU.createPolicy('Edison Motor',acc.id);
        Policy_Schedule__c ps=new Policy_Schedule__c(Name='Test/PS/0');
        ps.Policy__c=pol.id;
        ps.VG_MTA_Type__c='Extension';
        List<Policy_Schedule__c> psList=new List<Policy_Schedule__c>();
        psList.add(ps);
        Policy_Schedule__c ps2=new Policy_Schedule__c(Name='Test/PS/0');
        ps2.Policy__c=pol.id;
        ps2.VG_MTA_Type__c='Cancellation';
        psList.add(ps2);
        Policy_Schedule__c ps3=new Policy_Schedule__c(Name='Test/PS/0');
        ps3.Policy__c=pol.id;
        ps3.VG_MTA_Type__c='Revision of Cover';
        psList.add(ps3);
        Policy_Schedule__c ps1=new Policy_Schedule__c(Name='Test/PS/0');
        ps1.Policy__c=pol.id;
        ps1.VG_MTA_Type__c='Declaration';
        psList.add(ps1);
        Insert psList;
        PageReference pageRef = Page.VG_EdisonPS_Ins1;
        Test.setCurrentPage(pageRef);
        ApexPages.currentPage().getParameters().put('id', pol.id);
        ApexPages.currentPage().getParameters().put('MTAType', ps2.VG_MTA_Type__c);
        ApexPages.currentPage().getParameters().put('OriginalId', ps.id);
        ApexPages.StandardSetController ssc = new ApexPages.StandardSetController(psList);
        VG_PolicyScheduleStep1_Controller cntr = new VG_PolicyScheduleStep1_Controller(ssc);
        cntr.Cancel();
        cntr.Next();
    }
    public static testmethod void testmethod5(){
        SystemConstants__c cs = new SystemConstants__c();
        cs.Name='Latest Policy Name';
        cs.DocumentId__c = 'Reset';
        Insert cs;
        Policy_Record_Type__c prt = new Policy_Record_Type__c ();
        prt.Name='Edison Motor';
        prt.Code__c = 'EM';
        Insert prt;
        Policy_LOB__c lob = new Policy_LOB__c();
        lob.Name='Motor';
        lob.Code__c = 'MTR';
        Insert lob;
        Account acc=VG_TU.createAccount('Customer');
        Policy__c pol=VG_TU.createPolicy('Edison Motor',acc.id);
        Policy_Schedule__c ps=new Policy_Schedule__c(Name='Test/PS/0');
        ps.Policy__c=pol.id;
        ps.VG_MTA_Type__c='Extension';
        List<Policy_Schedule__c> psList=new List<Policy_Schedule__c>();
        psList.add(ps);
        Policy_Schedule__c ps2=new Policy_Schedule__c(Name='Test/PS/0');
        ps2.Policy__c=pol.id;
        ps2.VG_MTA_Type__c='Cancellation';
        psList.add(ps2);
        Policy_Schedule__c ps3=new Policy_Schedule__c(Name='Test/PS/0');
        ps3.Policy__c=pol.id;
        ps3.VG_MTA_Type__c='Revision of Cover';
        psList.add(ps3);
        Policy_Schedule__c ps1=new Policy_Schedule__c(Name='Test/PS/0');
        ps1.Policy__c=pol.id;
        ps1.VG_MTA_Type__c='Declaration';
        psList.add(ps1);
        Insert psList;
        PageReference pageRef = Page.VG_EdisonPS_Ins1;
        Test.setCurrentPage(pageRef);
        ApexPages.currentPage().getParameters().put('id', pol.id);
        ApexPages.currentPage().getParameters().put('MTAType', ps3.VG_MTA_Type__c);
        ApexPages.currentPage().getParameters().put('OriginalId', ps.id);
        ApexPages.StandardSetController ssc = new ApexPages.StandardSetController(psList);
        VG_PolicyScheduleStep1_Controller cntr = new VG_PolicyScheduleStep1_Controller(ssc);
        cntr.Cancel();
        cntr.Next();
        cntr.addAsset();
    }
    public static testmethod void testmethod6(){
        VG_Tu.policyCustomSetting();
        Account acc=VG_TU.createAccount('Customer');
        Policy__c pol=VG_TU.createPolicy('Edison Motor',acc.id);
        Policy_Schedule__c ps=new Policy_Schedule__c(Name='Test/PS/0');
        ps.Policy__c=pol.id;
        ps.VG_MTA_Type__c='Revision of Cover';
        List<Policy_Schedule__c> psList=new List<Policy_Schedule__c>();
        psList.add(ps);
        Insert psList;
        List<VG_Policy_Schedule_Asset__c> psaList=new List<VG_Policy_Schedule_Asset__c>();
        VG_Policy_Schedule_Asset__c psa=new VG_Policy_Schedule_Asset__c();
        psa.name='Test1';
        psa.VG_Policy_Schedule__c=ps.id;
        psa.VG_Rate_Per_Vehicle__c=20;
        psa.VG_Number_of_Vehicles__c=10;
        psa.VG_Coverage__c='M3 - Fully Comprehensive';
        psa.VG_Vehicle_Type__c='Cars';
        psa.VG_Use__c='Public Hire';
        psa.VG_Technical_UW_Rate_Annual__c=10000;
        psaList.add(psa);
        VG_Policy_Schedule_Asset__c psa1=new VG_Policy_Schedule_Asset__c();
        psa1.name='Test2';
        psa1.VG_Use__c='Public Hire';
        psa1.VG_Policy_Schedule__c=ps.id;
        psa1.VG_Rate_Per_Vehicle__c=20;
        psa1.VG_Number_of_Vehicles__c=10;
        psa1.VG_Coverage__c='M3 - Fully Comprehensive';
        psa1.VG_Vehicle_Type__c='Cars';
        psa1.VG_Technical_UW_Rate_Annual__c=1000;
        psaList.add(psa1);
        Insert psaList;
        VG_UMR__c umr=VG_TU.createUMR(acc.id,'Edison Motor');
        Declaration_Rates__c decRates =new Declaration_Rates__c();
        decRates.Name='Edison_Motor';
        decRates.Q1_Declaration_Rate__c=10;
        decRates.Q2_Declaration_Rate__c=20;
        decRates.Q3_Declaration_Rate__c=30;
        decRates.Q4_Declaration_Rate__c=40;
        decRates.Annual_Declaration_Rate__c=25;
        decRates.Half_Yearly_Declaration_Rate__c=25;
        Insert decRates;
        PageReference pageRef = Page.VG_EdisonPS_Ins1;
        Test.setCurrentPage(pageRef);
        ApexPages.currentPage().getParameters().put('PSID', ps.id);
        ApexPages.currentPage().getParameters().put('MTAType', ps.VG_MTA_Type__c);
        ApexPages.StandardSetController ssc = new ApexPages.StandardSetController(psList);
        VG_PolicyScheduleStep1_Controller cntr = new VG_PolicyScheduleStep1_Controller(ssc);
        cntr.pseList=new List<VG_Policy_Schedule_Endorsement__c>();
        cntr.rcList=new List<Risk_Capture__c>();
        cntr.pseListDup=new List<VG_Policy_Schedule_Endorsement__c>();
        VG_PolicyScheduleStep1_Controller.WrapperAsset wa = new VG_PolicyScheduleStep1_Controller.WrapperAsset();
        wa.Counter='0';
        wa.psa=psa;
        wa.techPremium=2000;
        cntr.Index='0';
        cntr.addAsset();
        cntr.RemoveAsset();
        cntr.PSId=null;
        cntr.MTAType='Declaration';
        cntr.Next();
        cntr.MTAType=null;
        cntr.ps.Product__c=null;
        cntr.Next();
        cntr.PSId=ps.id;
        cntr.Next();
        cntr.MTAType='Declaration';
        cntr.Next();
        cntr.MTAType=null;
        cntr.ps.Product__c='Public Sector';
        cntr.Next();
        cntr.MTAType='Declaration';
        VG_ReInsurance__c ri=new VG_ReInsurance__c();
        ri.Name='Test/PS/0';
        ri.VG_Brokerage_Amount__c=25256;
        ri.VG_MGA_Commission_Override__c='';
        ri.VG_UMR__c=umr.id;
        cntr.RIListDup.add(ri);
        //cntr.Next();
        cntr.updateDeclarationRate();
        //below lines cover next() PSId==null all codes only 
        cntr.PSId=null;
        cntr.waList.clear();
        cntr.waList.add(wa);
        cntr.Next();
        cntr.MTAType='Revision of Cover';
        cntr.PSId=null;
        cntr.ps.VG_MTA_Start_Date__c=date.newInstance(2018,06,02);
        cntr.ps.VG_MTA_End_Date__c=date.newInstance(2018,05,31);
        cntr.waList.clear();
        cntr.waList.add(wa);
        cntr.Next();
        cntr.MTAType='Revision of Cover';
        cntr.PSId=null;
        cntr.ps.VG_MTA_Start_Date__c=null;
        cntr.waList.clear();
        cntr.waList.add(wa);
        cntr.Next();
        /*cntr.MTAType=null;
        cntr.PSId=null;
        cntr.ps.Product__c=null;
        cntr.waList.clear();
        cntr.waList.add(wa);
        cntr.Next();
        cntr.MTAType=null;
        cntr.PSId=ps.id;
        cntr.ps.Product__c=null;
        cntr.waList.clear();
        cntr.waList.add(wa);
        cntr.Next();*/
        cntr.MTAType='Revision of Cover';
        cntr.PSId=null;
        cntr.ps.Product__c='Commercial';
        cntr.ps.id=null;
        cntr.ps.VG_MTA_Start_Date__c=date.newInstance(2018,02,02);
        cntr.ps.VG_MTA_End_Date__c=date.newInstance(2018,05,31);
        cntr.waList.clear();
        cntr.waList.add(wa);
        //cntr.Next();
        /*cntr.MTAType=null;
        cntr.PSId=null;
        cntr.ps.Product__c='Commercial';
        cntr.ps.id=null;
        cntr.ps.VG_MTA_Start_Date__c=date.newInstance(2018,02,02);
        cntr.ps.VG_MTA_End_Date__c=date.newInstance(2018,05,31);
        cntr.waList.clear();
        cntr.waList.add(wa);
        cntr.Next();*/
        //above lines cover next() PSId==null all codes only 
        cntr.Cancel();
        
        
    }
    public static testmethod void testmethod7(){
        
        SystemConstants__c cs = new SystemConstants__c();
        cs.Name='Latest Policy Name';
        cs.DocumentId__c = 'Reset';
        Insert cs;
        Policy_Record_Type__c prt = new Policy_Record_Type__c ();
        prt.Name='Edison Motor';
        prt.Code__c = 'EM';
        Insert prt;
        Policy_LOB__c lob = new Policy_LOB__c();
        lob.Name='Motor';
        lob.Code__c = 'MTR';
        Insert lob;
        Account acc=VG_TU.createAccount('Customer');
        Policy__c pol=VG_TU.createPolicy('Edison Motor',acc.id);
        Policy_Schedule__c ps=new Policy_Schedule__c(Name='Test/PS/0');
        ps.Policy__c=pol.id;
        ps.VG_MTA_Type__c='Revision of Cover';
        List<Policy_Schedule__c> psList=new List<Policy_Schedule__c>();
        psList.add(ps);
        Insert psList;
        List<VG_Policy_Schedule_Asset__c> psaList=new List<VG_Policy_Schedule_Asset__c>();
        VG_Policy_Schedule_Asset__c psa=new VG_Policy_Schedule_Asset__c();
        psa.name='Test/PS/0';
        psa.VG_Policy_Schedule__c=ps.id;
        psa.VG_Rate_Per_Vehicle__c=20;
        psa.VG_Number_of_Vehicles__c=10;
        psa.VG_Coverage__c='M3 - Fully Comprehensive';
        psa.VG_Vehicle_Type__c='Cars';
        psaList.add(psa);
        VG_Policy_Schedule_Asset__c psa1=new VG_Policy_Schedule_Asset__c();
        psa1.name='Test/PS/0';
        psa1.VG_Policy_Schedule__c=ps.id;
        psa1.VG_Rate_Per_Vehicle__c=20;
        psa1.VG_Number_of_Vehicles__c=10;
        psa1.VG_Coverage__c='M3 - Fully Comprehensive';
        psa1.VG_Vehicle_Type__c='Cars';
        psaList.add(psa1);
        Insert psaList;
        Declaration_Rates__c decRates =new Declaration_Rates__c();
        decRates.Name='Edison_Motor';
        decRates.Q1_Declaration_Rate__c=10;
        decRates.Q2_Declaration_Rate__c=20;
        decRates.Q3_Declaration_Rate__c=30;
        decRates.Q4_Declaration_Rate__c=40;
        decRates.Annual_Declaration_Rate__c=25;
        decRates.Half_Yearly_Declaration_Rate__c=25;
        Insert decRates;
        PageReference pageRef = Page.VG_EdisonPS_Ins1;
        Test.setCurrentPage(pageRef);
        //ApexPages.currentPage().getParameters().put('PSID', ps.id);
        ApexPages.currentPage().getParameters().put('OriginalId', ps.id);
        ApexPages.currentPage().getParameters().put('MTAType', ps.VG_MTA_Type__c);
        ApexPages.StandardSetController ssc = new ApexPages.StandardSetController(psList);
        VG_PolicyScheduleStep1_Controller cntr = new VG_PolicyScheduleStep1_Controller(ssc);
        cntr.psaList=new List<VG_Policy_Schedule_Asset__c>();
        VG_PolicyScheduleStep1_Controller.WrapperAsset wa = new VG_PolicyScheduleStep1_Controller.WrapperAsset();
        wa.psa=psaList[0];
        wa.Counter='0';
        cntr.waList.add(wa);
        VG_PolicyScheduleStep1_Controller.WrapperAsset wa1 = new VG_PolicyScheduleStep1_Controller.WrapperAsset();
        wa1.psa=psaList[1];
        wa1.Counter='1';
        cntr.waList.add(wa1);
        cntr.Index='0';
        cntr.RemoveAsset();
        cntr.addAsset();
        cntr.Next();
        cntr.updateDeclarationRate();
        cntr.Cancel();
        cntr.uploadAsset();
        cntr.processuploadAsset();
        cntr.fileName ='test';
        cntr.fileBody = blob.valueOf('No. of Vehicles,Type,Coverage,Use,Deductible,Tech UW Rate,Actual Rate,Model Rate,Rate change\n 1,Commercial Vehicles upto 3.5t,M6 - Fire & Theft Only,Public Hire,2000,3000,1600,20,0\n');
        cntr.processuploadAsset();
    }
    public static testmethod void testmethod8(){
        SystemConstants__c cs = new SystemConstants__c();
        cs.Name='Latest Policy Name';
        cs.DocumentId__c = 'Reset';
        Insert cs;
        Policy_Record_Type__c prt = new Policy_Record_Type__c ();
        prt.Name='Edison Motor';
        prt.Code__c = 'EM';
        Insert prt;
        Policy_LOB__c lob = new Policy_LOB__c();
        lob.Name='Motor';
        lob.Code__c = 'MTR';
        Insert lob;
        Declaration_Rates__c decRates =new Declaration_Rates__c();
        decRates.Name='Edison_Motor';
        decRates.Q1_Declaration_Rate__c=10;
        decRates.Q2_Declaration_Rate__c=20;
        decRates.Q3_Declaration_Rate__c=30;
        decRates.Q4_Declaration_Rate__c=40;
        decRates.Annual_Declaration_Rate__c=25;
        decRates.Half_Yearly_Declaration_Rate__c=25;
        Insert decRates;
        Account acc=VG_TU.createAccount('Customer');
        Policy__c pol=VG_TU.createPolicy('Edison Motor',acc.id);
        Policy_Schedule__c ps=new Policy_Schedule__c(Name='Test/PS/0');
        ps.Policy__c=pol.id;
        ps.VG_MTA_Type__c='Revision of Cover';
        ps.VG_Declaration_Type__c = '1st Quarter';
        List<Policy_Schedule__c> psList=new List<Policy_Schedule__c>();
        psList.add(ps);
        Insert psList;
        ps.VG_Declaration_Type_percent__c = decRates.Q1_Declaration_Rate__c;        
        Update ps;       
        VG_Policy_Schedule_Asset__c psa= VG_TU.createPolicyScheduleAsset(ps.Id);
        VG_Policy_Schedule_Asset__c psa1= VG_TU.createPolicyScheduleAsset(ps.Id);       
        PageReference pageRef = Page.VG_EdisonPS_Ins1;
        Test.setCurrentPage(pageRef);
        ApexPages.currentPage().getParameters().put('PSID', ps.id);
        ApexPages.currentPage().getParameters().put('MTAType', ps.VG_MTA_Type__c);
        ApexPages.StandardSetController ssc = new ApexPages.StandardSetController(psList);
        VG_PolicyScheduleStep1_Controller cntr = new VG_PolicyScheduleStep1_Controller(ssc);
        cntr.psa=psa;
        cntr.Index='0'; 
        cntr.updateDeclarationRate();
        cntr.uploadAsset();
        cntr.doneuploadAsset();
        cntr.RemoveUploadAsset();
    }
    public static testmethod void testmethod9(){
        SystemConstants__c cs = new SystemConstants__c();
        cs.Name='Latest Policy Name';
        cs.DocumentId__c = 'Reset';
        Insert cs;
        Policy_Record_Type__c prt = new Policy_Record_Type__c ();
        prt.Name='Edison Motor';
        prt.Code__c = 'EM';
        Insert prt;
        Policy_LOB__c lob = new Policy_LOB__c();
        lob.Name='Motor';
        lob.Code__c = 'MTR';
        Insert lob;
        Declaration_Rates__c decRates =new Declaration_Rates__c();
        decRates.Name='Edison_Motor';
        decRates.Q1_Declaration_Rate__c=10;
        decRates.Q2_Declaration_Rate__c=20;
        decRates.Q3_Declaration_Rate__c=30;
        decRates.Q4_Declaration_Rate__c=40;
        decRates.Annual_Declaration_Rate__c=25;
        decRates.Half_Yearly_Declaration_Rate__c=25;
        Insert decRates;
        Account acc=VG_TU.createAccount('Customer');
        Policy__c pol=VG_TU.createPolicy('Edison Motor',acc.id);
        Policy_Schedule__c ps1=new Policy_Schedule__c(Name='Test/PS/0');
        ps1.Policy__c=pol.id;
        ps1.VG_MTA_Type__c='Revision of Cover';
        ps1.VG_Declaration_Type__c = '2nd Quarter';
        List<Policy_Schedule__c> psList1=new List<Policy_Schedule__c>();
        psList1.add(ps1);
        Insert psList1;
        ps1.VG_Declaration_Type_percent__c = decRates.Q2_Declaration_Rate__c;        
        Update ps1;
        VG_Policy_Schedule_Asset__c psa= VG_TU.createPolicyScheduleAsset(ps1.Id);
        VG_Policy_Schedule_Asset__c psa1= VG_TU.createPolicyScheduleAsset(ps1.Id);       
        PageReference pageRef = Page.VG_EdisonPS_Ins1;
        Test.setCurrentPage(pageRef);
        ApexPages.currentPage().getParameters().put('PSID', ps1.id);
        ApexPages.currentPage().getParameters().put('MTAType', ps1.VG_MTA_Type__c);
        ApexPages.StandardSetController ssc1 = new ApexPages.StandardSetController(psList1);
        VG_PolicyScheduleStep1_Controller cntr1 = new VG_PolicyScheduleStep1_Controller(ssc1);
        cntr1.psa=psa;
        cntr1.Index='0';        
        cntr1.updateDeclarationRate();
        
    }
    public static testmethod void testmethod10(){
        SystemConstants__c cs = new SystemConstants__c();
        cs.Name='Latest Policy Name';
        cs.DocumentId__c = 'Reset';
        Insert cs;
        Policy_Record_Type__c prt = new Policy_Record_Type__c ();
        prt.Name='Edison Motor';
        prt.Code__c = 'EM';
        Insert prt;
        Policy_LOB__c lob = new Policy_LOB__c();
        lob.Name='Motor';
        lob.Code__c = 'MTR';
        Insert lob;
        Declaration_Rates__c decRates =new Declaration_Rates__c();
        decRates.Name='Edison_Motor';
        decRates.Q1_Declaration_Rate__c=10;
        decRates.Q2_Declaration_Rate__c=20;
        decRates.Q3_Declaration_Rate__c=30;
        decRates.Q4_Declaration_Rate__c=40;
        decRates.Annual_Declaration_Rate__c=25;
        decRates.Half_Yearly_Declaration_Rate__c=25;
        Insert decRates;
        Account acc=VG_TU.createAccount('Customer');
        Policy__c pol=VG_TU.createPolicy('Edison Motor',acc.id);
        Policy_Schedule__c ps2=new Policy_Schedule__c(Name='Test/PS/0');
        ps2.Policy__c=pol.id;
        ps2.VG_MTA_Type__c='Revision of Cover';
        ps2.VG_Declaration_Type__c = '3rd Quarter';
        List<Policy_Schedule__c> psList2=new List<Policy_Schedule__c>();
        psList2.add(ps2);
        Insert psList2;
        ps2.VG_Declaration_Type_percent__c = decRates.Q3_Declaration_Rate__c;        
        Update ps2;
        VG_Policy_Schedule_Asset__c psa= VG_TU.createPolicyScheduleAsset(ps2.Id);
        VG_Policy_Schedule_Asset__c psa1= VG_TU.createPolicyScheduleAsset(ps2.Id);       
        PageReference pageRef = Page.VG_EdisonPS_Ins1;
        Test.setCurrentPage(pageRef);
        ApexPages.currentPage().getParameters().put('PSID', ps2.id);
        ApexPages.currentPage().getParameters().put('MTAType', ps2.VG_MTA_Type__c);
        ApexPages.StandardSetController ssc2 = new ApexPages.StandardSetController(psList2);
        VG_PolicyScheduleStep1_Controller cntr2 = new VG_PolicyScheduleStep1_Controller(ssc2);
        cntr2.psa=psa;
        cntr2.Index='0';        
        cntr2.updateDeclarationRate();
        cntr2.RemoveURLAsset();
        
    }
    public static testmethod void testmethod11(){
        VG_Tu.policyCustomSetting();
        Account acc=VG_TU.createAccount('Customer');
        Policy__c pol=VG_TU.createPolicy('Edison Motor',acc.id);
        Policy_Schedule__c ps=VG_TU.createPolicySchedule(pol.id);
        VG_Policy_Schedule_Asset__c psa= VG_TU.createPolicyScheduleAsset(ps.Id);
        VG_Policy_Schedule_Asset__c psa1= VG_TU.createPolicyScheduleAsset(ps.Id);   
        ApexPages.currentPage().getParameters().put('MTAType', 'Extension');
        ApexPages.currentPage().getParameters().put('OriginalId', ps.id);
        Risk_Capture__c rc=VG_TU.createRiskCapture(ps.id);
        VG_UMR__c umr=VG_TU.createUMR(acc.id,'Edison Motor');
        VG_ReInsurance__c ri=VG_TU.createReInsurance(ps.id, umr.id);
        List<Policy_Schedule__c> psList=new List<Policy_Schedule__c>();
        psList.add(ps);
        VG_Policy_Schedule_Endorsement__c pse=VG_TU.createPolicyScheduleEndorsement(ps.id);
        ApexPages.StandardSetController sc = new ApexPages.StandardSetController(psList);
        VG_PolicyScheduleStep1_Controller con = new VG_PolicyScheduleStep1_Controller(sc);
        con.PSId=ps.id;
        con.Cancel();
        con.ps.VG_Declaration_Type__c ='4th Quarter';
        con.updateDeclarationRate();
        con.ps.VG_Declaration_Type__c ='Annual';
        con.updateDeclarationRate();
        con.ps.VG_Declaration_Type__c ='Half Yearly';
        con.updateDeclarationRate();
        con.PSId=null;
        con.MTAType = 'Declaration';
        con.waList.clear();
        con.Next();
        con.addULRAsset();
        con.RRCalc();
        
    }
}